<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
	<style type="text/css">
		span {
			color: red;
			font-size: 14px;
		}
	</style>
</head>
<body>
	<div class="container row">
		<div class="col-md-5">
			<form>
				<div class="form-group">
					<label>Name Surname:</label>
					<input type="text" id="name_surname" class="form-control">
					<span id="name_surname_error"></span>
				</div>
				<div class="form-group">
					<label>Email:</label>
					<input type="email" id="email" class="form-control">
					<span id="email_error"></span>
				</div>
				<div class="form-group">
					<label>Password:</label>
					<input type="text" id="password" class="form-control">
					<span id="password_error"></span>
				</div>
				<div class="form-group">
					<button onclick="register(event)" class="btn btn-warning" id="calc_btn" type="submit">Register</button>
				</div>
			
		</form>
		</div>
		<div class="col-md-5">
			<form>
				
				<div class="form-group">
					<label>Email:</label>
					<input type="email" id="email_login" class="form-control">
					<span id="email_login_error"></span>
				</div>
				<div class="form-group">
					<label>Password:</label>
					<input type="text" id="password_login" class="form-control">
					<span id="password_login_error"></span>
				</div>
				<div class="form-group">
					<button onclick="login(event)" class="btn btn-warning" id="calc_btn" type="submit">Login</button>
				</div>
			
		</form>
		</div>
	</div>

	<script type="text/javascript">

function isEmpty(value) {
	"use strict"
	return value==null || value==undefined || value=="";
}


function isEmail(v) {
	"use strict"
	return v.includes("@");
}


function nameIsAllowed(n) {

	if(n.toLowerCase().includes("admin")) {
     return false;
	}
	else
		return true;
}


function hasNumber(value) {

	let isFound = false;
	for(let f in value) {
		if(value.charCodeAt(f)>=48 && value.charCodeAt(f)<=57) {
			isFound=true;
			break;
		}
	}

	return isFound;
}

function hasUpperCaseElements(value) {

	let isFound = false;
	for(let f in value) {
		if(value.charCodeAt(f)>=65 && value.charCodeAt(f)<=90) {
			isFound=true;
			break;
		}
	}

	return isFound;
}


function hasLowerCaseElements(value) {

	let isFound = false;
	for(let f in value) {
		if(value.charCodeAt(f)>=97 && value.charCodeAt(f)<=122) {
			isFound=true;
			break;
		}
	}

	return isFound;
}

function writeMessage(element,message) {
	 document.getElementById(element).innerText = message;
}


function login(e) {
	e.preventDefault();

	     	let email = document.getElementById("email_login");

			let password = document.getElementById("password_login");

			if(email.value== lg && password.value==pw) {
               window.location.href="admin.html";
			}
			else
				alert("Login or password is not correct");
}


var lg = null;
var pw = null;

		function register(e) {

			e.preventDefault();

              //clear all error messages
             document.getElementById("name_surname_error").innerText="";

               document.getElementById("email_error").innerText="";

                document.getElementById("password_error").innerText="";


            //get values
			let n_s = document.getElementById("name_surname");

			let email = document.getElementById("email");

			let password = document.getElementById("password");



              //check app
			if(isEmpty(n_s.value)) {
               writeMessage("name_surname_error","name surname can't be empty");
			}
			else
            if(!nameIsAllowed(n_s.value)) {
            	writeMessage("name_surname_error","This name is not allowed");
            }

           
           if(isEmpty(email.value)) {
              	writeMessage("email_error","Email can't be empty");
           }
           else
           	if(!isEmail(email.value)) {
           		writeMessage("email_error", "Email is not valid");
           	}
          
             if(password.value.length<6) {
             	writeMessage("password_error", "Password length is not valid");
             }
             else
             	if(!hasNumber(password.value) ||  !hasUpperCaseElements(password.value) || !hasLowerCaseElements(password.value)) {
                       document.getElementById("password_error").innerText = "Password is not valid";
             	}

             	lg = email.value;
             	pw=  password.value;

         

		}



		
	</script>
</body>
</html>